<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Todoist.Pages.EmailAuthorizationPage"
             xmlns:views="clr-namespace:Todoist.Views"
             xmlns:controls="clr-namespace:Todoist.Controls"
             xmlns:toolkit="clr-namespace:CommunityToolkit.Maui.Behaviors;assembly=CommunityToolkit.Maui">

    <ContentPage.Resources>
        <ResourceDictionary Source="../Resources/Templates/EmailAuthorizationFormTemplate.xaml" />
    </ContentPage.Resources>

    <Shell.BackButtonBehavior>
        <BackButtonBehavior IsVisible="False" IsEnabled="False" />
    </Shell.BackButtonBehavior>

    <ContentPage.Behaviors>
        <toolkit:StatusBarBehavior StatusBarColor="{StaticResource Primary}" StatusBarStyle="DarkContent" />
    </ContentPage.Behaviors>

    <controls:AuthorizationFormView Email="{Binding Email}"
                                    TapCommand="{Binding TapFormCommand}"
                                    SubmitCommand="{Binding SubmitFormCommand}"
                                    CloseCommand="{Binding CloseFormCommand}" 
                                    IsSubmitted="{Binding IsSubmitted}"
                                    ControlTemplate="{StaticResource EmailAuthorizationFormTemplate}"/>
</ContentPage>